{"ast":null,"code":"var _jsxFileName = \"/Users/lucasklenovich/Documents/GitHub/wcg2/src/components/result.component.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext, useRef } from \"react\";\nimport { IN_PROCESS, FINISHED_WIN, FINISHED_LOSE } from \"../constants\";\nimport { AppContext } from \"../App\";\nimport Modal from \"./modal.component\";\nimport { useClickOutside } from \"../utils/useClickOutside\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Result = () => {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const ref = useRef(null);\n  useClickOutside(ref, () => setOpen(false));\n  const {\n    todayCountry,\n    numGuesses,\n    selectedCountries,\n    setGame,\n    game\n  } = useContext(AppContext);\n  useEffect(() => {\n    var _selectedCountries, _selectedCountries2, _selectedCountries3;\n\n    if (numGuesses === 6 && ((_selectedCountries = selectedCountries[numGuesses - 1]) === null || _selectedCountries === void 0 ? void 0 : _selectedCountries.value) !== todayCountry.value) {\n      setGame(FINISHED_LOSE);\n      setOpen(true);\n    } else if (((_selectedCountries2 = selectedCountries[numGuesses - 1]) === null || _selectedCountries2 === void 0 ? void 0 : _selectedCountries2.value) !== undefined && ((_selectedCountries3 = selectedCountries[numGuesses - 1]) === null || _selectedCountries3 === void 0 ? void 0 : _selectedCountries3.value) === todayCountry.value) {\n      setGame(FINISHED_WIN);\n      setOpen(true);\n    }\n  }, [numGuesses, game, setGame, selectedCountries, todayCountry]);\n\n  const message = () => {\n    return game === FINISHED_WIN ? numGuesses === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: [\"You got it on the\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base md:text-xl italic\",\n        children: \"first\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), \" try!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this) : numGuesses === 6 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: \"Oof, that was close.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: [\"You got it in\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base md:text-xl italic\",\n        children: [numGuesses, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), \"guesses.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base text-center\",\n      children: [\"You didn't get it, the country is\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-base md:text-xl italic\",\n        children: [todayCountry.label, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    children: game === IN_PROCESS ? null : /*#__PURE__*/_jsxDEV(Modal, {\n      setOpen: setOpen,\n      open: open,\n      id: \"modal-result\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full text-center\",\n        children: message()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Result, \"gCfczQe+ti0QBEFEP02Ta5kieLU=\", false, function () {\n  return [useClickOutside];\n});\n\n_c = Result;\nexport default Result;\n\nvar _c;\n\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["useState","useEffect","useContext","useRef","IN_PROCESS","FINISHED_WIN","FINISHED_LOSE","AppContext","Modal","useClickOutside","Result","open","setOpen","ref","todayCountry","numGuesses","selectedCountries","setGame","game","value","undefined","message","label"],"sources":["/Users/lucasklenovich/Documents/GitHub/wcg2/src/components/result.component.tsx"],"sourcesContent":["import { useState, useEffect, useContext, useRef } from \"react\";\nimport { IN_PROCESS, FINISHED_WIN, FINISHED_LOSE } from \"../constants\";\nimport { AppContext } from \"../App\";\nimport Modal from \"./modal.component\";\nimport { useClickOutside } from \"../utils/useClickOutside\";\n\nconst Result = () => {\n  const [open, setOpen] = useState<boolean>(false);\n  const ref = useRef<HTMLDivElement>(null);\n  useClickOutside(ref, () => setOpen(false));\n  const { todayCountry, numGuesses, selectedCountries, setGame, game } =\n    useContext(AppContext);\n\n  useEffect(() => {\n    if (\n      numGuesses === 6 &&\n      selectedCountries[numGuesses - 1]?.value !== todayCountry.value\n    ) {\n      setGame(FINISHED_LOSE);\n      setOpen(true);\n    } else if (\n      selectedCountries[numGuesses - 1]?.value !== undefined &&\n      selectedCountries[numGuesses - 1]?.value === todayCountry.value\n    ) {\n      setGame(FINISHED_WIN);\n      setOpen(true);\n    }\n  }, [numGuesses, game, setGame, selectedCountries, todayCountry]);\n\n  const message = () => {\n    return game === FINISHED_WIN ? (\n      numGuesses === 1 ? (\n        <div className=\"p-5 text-sm md:text-base\">\n          You got it on the{\" \"}\n          <span className=\"text-base md:text-xl italic\">first</span> try!\n        </div>\n      ) : numGuesses === 6 ? (\n        <div className=\"p-5 text-sm md:text-base\">Oof, that was close.</div>\n      ) : (\n        <div className=\"p-5 text-sm md:text-base\">\n          You got it in{\" \"}\n          <span className=\"text-base md:text-xl italic\">{numGuesses} </span>\n          guesses.\n        </div>\n      )\n    ) : (\n      <div className=\"p-5 text-sm md:text-base text-center\">\n        You didn't get it, the country is\n        <div className=\"text-base md:text-xl italic\">{todayCountry.label}.</div>\n      </div>\n    );\n  };\n\n  return (\n    <div ref={ref}>\n      {game === IN_PROCESS ? null : (\n        <Modal setOpen={setOpen} open={open} id=\"modal-result\">\n          <div className=\"w-full text-center\">{message()}</div>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default Result;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,MAA1C,QAAwD,OAAxD;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,aAAnC,QAAwD,cAAxD;AACA,SAASC,UAAT,QAA2B,QAA3B;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SAASC,eAAT,QAAgC,0BAAhC;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAU,KAAV,CAAhC;EACA,MAAMa,GAAG,GAAGV,MAAM,CAAiB,IAAjB,CAAlB;EACAM,eAAe,CAACI,GAAD,EAAM,MAAMD,OAAO,CAAC,KAAD,CAAnB,CAAf;EACA,MAAM;IAAEE,YAAF;IAAgBC,UAAhB;IAA4BC,iBAA5B;IAA+CC,OAA/C;IAAwDC;EAAxD,IACJhB,UAAU,CAACK,UAAD,CADZ;EAGAN,SAAS,CAAC,MAAM;IAAA;;IACd,IACEc,UAAU,KAAK,CAAf,IACA,uBAAAC,iBAAiB,CAACD,UAAU,GAAG,CAAd,CAAjB,0EAAmCI,KAAnC,MAA6CL,YAAY,CAACK,KAF5D,EAGE;MACAF,OAAO,CAACX,aAAD,CAAP;MACAM,OAAO,CAAC,IAAD,CAAP;IACD,CAND,MAMO,IACL,wBAAAI,iBAAiB,CAACD,UAAU,GAAG,CAAd,CAAjB,4EAAmCI,KAAnC,MAA6CC,SAA7C,IACA,wBAAAJ,iBAAiB,CAACD,UAAU,GAAG,CAAd,CAAjB,4EAAmCI,KAAnC,MAA6CL,YAAY,CAACK,KAFrD,EAGL;MACAF,OAAO,CAACZ,YAAD,CAAP;MACAO,OAAO,CAAC,IAAD,CAAP;IACD;EACF,CAdQ,EAcN,CAACG,UAAD,EAAaG,IAAb,EAAmBD,OAAnB,EAA4BD,iBAA5B,EAA+CF,YAA/C,CAdM,CAAT;;EAgBA,MAAMO,OAAO,GAAG,MAAM;IACpB,OAAOH,IAAI,KAAKb,YAAT,GACLU,UAAU,KAAK,CAAf,gBACE;MAAK,SAAS,EAAC,0BAAf;MAAA,gCACoB,GADpB,eAEE;QAAM,SAAS,EAAC,6BAAhB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,GAKIA,UAAU,KAAK,CAAf,gBACF;MAAK,SAAS,EAAC,0BAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADE,gBAGF;MAAK,SAAS,EAAC,0BAAf;MAAA,4BACgB,GADhB,eAEE;QAAM,SAAS,EAAC,6BAAhB;QAAA,WAA+CA,UAA/C;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QATG,gBAgBL;MAAK,SAAS,EAAC,sCAAf;MAAA,6DAEE;QAAK,SAAS,EAAC,6BAAf;QAAA,WAA8CD,YAAY,CAACQ,KAA3D;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBF;EAqBD,CAtBD;;EAwBA,oBACE;IAAK,GAAG,EAAET,GAAV;IAAA,UACGK,IAAI,KAAKd,UAAT,GAAsB,IAAtB,gBACC,QAAC,KAAD;MAAO,OAAO,EAAEQ,OAAhB;MAAyB,IAAI,EAAED,IAA/B;MAAqC,EAAE,EAAC,cAAxC;MAAA,uBACE;QAAK,SAAS,EAAC,oBAAf;QAAA,UAAqCU,OAAO;MAA5C;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EAFJ;IAAA;IAAA;IAAA;EAAA,QADF;AASD,CAxDD;;GAAMX,M;UAGJD,e;;;KAHIC,M;AA0DN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}