{"ast":null,"code":"var _jsxFileName = \"/Users/lucasklenovich/Documents/GitHub/wcg2/tsu/src/components/result.component.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext, useRef } from \"react\";\nimport { IN_PROCESS, FINISHED_WIN, FINISHED_LOSE } from \"../constants\";\nimport { AppContext } from \"../App\";\nimport Modal from \"./modal.component\";\nimport { useClickOutside } from \"../utils/useClickOutside\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Result = () => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const ref = useRef(null);\n  useClickOutside(ref, () => setOpen(false));\n  const {\n    todayCountry,\n    numGuesses,\n    selectedCountries,\n    setGame,\n    game\n  } = useContext(AppContext);\n  useEffect(() => {\n    var _selectedCountries, _selectedCountries2, _selectedCountries3;\n    if (numGuesses === 6 && ((_selectedCountries = selectedCountries[numGuesses - 1]) === null || _selectedCountries === void 0 ? void 0 : _selectedCountries.value) !== todayCountry.value) {\n      setGame(FINISHED_LOSE);\n      setOpen(true);\n    } else if (((_selectedCountries2 = selectedCountries[numGuesses - 1]) === null || _selectedCountries2 === void 0 ? void 0 : _selectedCountries2.value) !== undefined && ((_selectedCountries3 = selectedCountries[numGuesses - 1]) === null || _selectedCountries3 === void 0 ? void 0 : _selectedCountries3.value) === todayCountry.value) {\n      setGame(FINISHED_WIN);\n      setOpen(true);\n    }\n  }, [numGuesses, game, setGame, selectedCountries, todayCountry]);\n  const message = () => {\n    return game === FINISHED_WIN ? numGuesses === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: [\"You got it on the\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base md:text-xl italic\",\n        children: \"first\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), \" try!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this) : numGuesses === 6 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: \"Oof, that was close.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base\",\n      children: [\"You got it in\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base md:text-xl italic\",\n        children: [numGuesses, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), \"guesses.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 text-sm md:text-base text-center\",\n      children: [\"You didn't get it, the country is\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-base md:text-xl italic\",\n        children: [todayCountry.label, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    children: game === IN_PROCESS ? null : /*#__PURE__*/_jsxDEV(Modal, {\n      setOpen: setOpen,\n      open: open,\n      id: \"modal-result\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full text-center\",\n        children: message()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Result, \"gCfczQe+ti0QBEFEP02Ta5kieLU=\", false, function () {\n  return [useClickOutside];\n});\n_c = Result;\nexport default Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["useState","useEffect","useContext","useRef","IN_PROCESS","FINISHED_WIN","FINISHED_LOSE","AppContext","Modal","useClickOutside","jsxDEV","_jsxDEV","Result","_s","open","setOpen","ref","todayCountry","numGuesses","selectedCountries","setGame","game","_selectedCountries","_selectedCountries2","_selectedCountries3","value","undefined","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","label","id","_c","$RefreshReg$"],"sources":["/Users/lucasklenovich/Documents/GitHub/wcg2/tsu/src/components/result.component.tsx"],"sourcesContent":["import { useState, useEffect, useContext, useRef } from \"react\";\nimport { IN_PROCESS, FINISHED_WIN, FINISHED_LOSE } from \"../constants\";\nimport { AppContext } from \"../App\";\nimport Modal from \"./modal.component\";\nimport { useClickOutside } from \"../utils/useClickOutside\";\n\nconst Result = () => {\n  const [open, setOpen] = useState<boolean>(false);\n  const ref = useRef<HTMLDivElement>(null);\n  useClickOutside(ref, () => setOpen(false));\n  const { todayCountry, numGuesses, selectedCountries, setGame, game } =\n    useContext(AppContext);\n\n  useEffect(() => {\n    if (\n      numGuesses === 6 &&\n      selectedCountries[numGuesses - 1]?.value !== todayCountry.value\n    ) {\n      setGame(FINISHED_LOSE);\n      setOpen(true);\n    } else if (\n      selectedCountries[numGuesses - 1]?.value !== undefined &&\n      selectedCountries[numGuesses - 1]?.value === todayCountry.value\n    ) {\n      setGame(FINISHED_WIN);\n      setOpen(true);\n    }\n  }, [numGuesses, game, setGame, selectedCountries, todayCountry]);\n\n  const message = () => {\n    return game === FINISHED_WIN ? (\n      numGuesses === 1 ? (\n        <div className=\"p-5 text-sm md:text-base\">\n          You got it on the{\" \"}\n          <span className=\"text-base md:text-xl italic\">first</span> try!\n        </div>\n      ) : numGuesses === 6 ? (\n        <div className=\"p-5 text-sm md:text-base\">Oof, that was close.</div>\n      ) : (\n        <div className=\"p-5 text-sm md:text-base\">\n          You got it in{\" \"}\n          <span className=\"text-base md:text-xl italic\">{numGuesses} </span>\n          guesses.\n        </div>\n      )\n    ) : (\n      <div className=\"p-5 text-sm md:text-base text-center\">\n        You didn't get it, the country is\n        <div className=\"text-base md:text-xl italic\">{todayCountry.label}.</div>\n      </div>\n    );\n  };\n\n  return (\n    <div ref={ref}>\n      {game === IN_PROCESS ? null : (\n        <Modal setOpen={setOpen} open={open} id=\"modal-result\">\n          <div className=\"w-full text-center\">{message()}</div>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default Result;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}